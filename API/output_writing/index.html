<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Output Writing · WAVI.jl</title><meta name="title" content="Output Writing · WAVI.jl"/><meta property="og:title" content="Output Writing · WAVI.jl"/><meta property="twitter:title" content="Output Writing · WAVI.jl"/><meta name="description" content="Documentation for WAVI.jl."/><meta property="og:description" content="Documentation for WAVI.jl."/><meta property="twitter:description" content="Documentation for WAVI.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="WAVI.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">WAVI.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../installation_instructions/">Installation instructions</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/planar_1D_flow/">First example: one-dimensional planar flow</a></li><li><a class="tocitem" href="../../examples/mismip_plus/">MISMIP+ part one: grounding lines on overdeepened bed</a></li><li><a class="tocitem" href="../../examples/mismip_plus_retreat/">MISMIP+ part two: retreat experiments</a></li><li><a class="tocitem" href="../../examples/bumpy_bed/">Two-dimensional flow on a bumpy bed</a></li><li><a class="tocitem" href="../../examples/melt_parametrizations/">Melt rate parametrizations</a></li><li><a class="tocitem" href="../../examples/stochastic_forcing/">Ice sheet retreat under stochastic forcing</a></li><li><a class="tocitem" href="../../examples/WAIS/">Real world: West Antarctic Ice Sheet</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Physics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../physics/overview/">Overview</a></li><li><a class="tocitem" href="../../physics/governing_equations/">Governing Equations</a></li><li><a class="tocitem" href="../../physics/melting/">Basal Melt Rate Parametrizations</a></li></ul></li><li><a class="tocitem" href="../../numerical_procedure/numerical_procedure/">Numerical Implementation</a></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox" checked/><label class="tocitem" for="menuitem-6"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../overview/">Overview</a></li><li><a class="tocitem" href="../simulations/">Simulations</a></li><li><a class="tocitem" href="../model/">Models</a></li><li><a class="tocitem" href="../timestepping_params/">Timestepping Parameters</a></li><li class="is-active"><a class="tocitem" href>Output Writing</a></li><li><a class="tocitem" href="../grid/">Grid</a></li><li><a class="tocitem" href="../solver_parameters/">Solver Parameters</a></li><li><a class="tocitem" href="../params/">Physical Parameters</a></li><li><a class="tocitem" href="../initial_conditions/">Initial Conditions</a></li><li><a class="tocitem" href="../fields/">Fields</a></li><li><a class="tocitem" href="../melt_rate_models/">Basal Melt Rate Models</a></li></ul></li><li><a class="tocitem" href="../../mitgcm_coupling/">MITgcm coupling</a></li><li><a class="tocitem" href="../../contributing/">Contributors guide</a></li><li><a class="tocitem" href="../../test/">Unit Testing</a></li><li><a class="tocitem" href="../../contact/">Contact us</a></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>Output Writing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Output Writing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/WAVI-ice-sheet-model/WAVI.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/WAVI-ice-sheet-model/WAVI.jl/blob/main/docs/src/API/output_writing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Output-Writing"><a class="docs-heading-anchor" href="#Output-Writing">Output Writing</a><a id="Output-Writing-1"></a><a class="docs-heading-anchor-permalink" href="#Output-Writing" title="Permalink"></a></h1><p>Parameters relating to writing solution data are stored in an <code>OutputParams</code> structure. Data is output as individual files at a user-specified interval, and may be zipped to a single file once the simulation has completed.</p><p>The key parameters, which are passed via keyword arguments in the <code>OutputParams</code> constructor, are as follows:</p><ul><li><code>outputs</code>: a named tuple that points to data fields to be output. Variable names used in the output are those specified in the named tuple. For example, to set the outputs to be the ice sheet thickness, named <code>h</code>, and the ice sheet surface elevation, named <code>s</code>, we would first instantiate a <code>Model</code> (here named <code>model</code>) and set <code>outputs = (h = model.fields.gh.h, s = model.fields.gh.s)</code>.</li></ul><div class="admonition is-info" id="Note-df4678f1b6ebd648"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-df4678f1b6ebd648" title="Permalink"></a></header><div class="admonition-body"><p>If only outputting a single field, you must include a comma so that Julia interprets it as a named tuple, e.g. <code>outputs = (h = model.fields.gh.h,)</code>.</p></div></div><div class="admonition is-info" id="Note-6d9d5e295222855a"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-6d9d5e295222855a" title="Permalink"></a></header><div class="admonition-body"><p>Variables named <code>x</code>, <code>y</code>, and <code>TIME</code> are reserved for the spatial and temporal dimensions and are therefore not permitted as variable names.</p></div></div><ul><li><p><code>output_freq</code>: the model time frequency with which the simulation is output. Note that WAVI works with the number of timesteps per output, calculated as <code>floor(output_freq/dt)</code> where <code>dt</code> is the simulation timestep. If <code>output_freq</code> is not an integer multiple of <code>dt</code>, this will introduce differences in the actual output frequency, and that specified by the user.</p></li><li><p><code>output_format</code> specifies the file format that the solution are to be saved in. Currently only <code>.jld2</code> and <code>.mat</code> file formats are supported. </p></li><li><p><code>prefix</code> specifies the prefix of solution files. Output files are saved as <code>&lt;prefix&gt;_xxxxxxxxxx.jld</code> where <code>xxxxxxxxxx</code> is the timestep number at which this solution was outputted, prepended with zeros to be ten digits in length. </p></li><li><p><code>output_path</code> specifies the path (relative or absolute) into which the solution is outputted. Note that if the specified path does not exist, outputs will be written to the local directory. </p></li><li><p><code>zip_format</code> specifies the format that solution files are zipped into. Currently WAVI.jl only supports zipping to an <code>nc</code> format. </p></li><li><p><code>dump_vel</code> is a shortcut to dump the velocity at the end of a simulation. This is an experimental feature, necessary for coupling WAVI to the MITgcm (see the <a href="../../mitgcm_coupling/">MITgcm coupling</a> tab).</p></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="WAVI.OutputParams-Tuple{}" href="#WAVI.OutputParams-Tuple{}"><code>WAVI.OutputParams</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">OutputParams(; 
    outputs = (),
    output_freq = Inf, 
    output_format = &quot;jld2&quot;,
    prefix = &quot;outfile&quot;, 
    output_path = &quot;./&quot;,
    dump_vel = false,
    zip_format = &quot;none&quot;,
    output_start = false)</code></pre><p>Construct a WAVI.jl output parameters object.</p><p><strong>Keyword arguments</strong></p><ul><li><code>outputs</code>:  a tuple of entries defining names and quantities to be outputted</li><li><code>output_freq</code>: quantity specifying hwo frequently to produce output </li><li><code>output_format</code>: specify output format (currently only .mat and .jld2 outputs are supported, selected with &#39;mat&#39; or &#39;jld2&#39; options)</li><li><code>prefix</code>: prefix to be prepended onto file names</li><li><code>output_path</code>: path on which to output filese</li><li><code>dump_vel</code>: flag to toggle whether or not dumping the velocity after the final timestep (used in mitgcm coupling)</li><li><code>zip_format</code>: specify whether or not to zip the output, and the format (currently only &#39;.nc&#39; output supported, use flag &#39;nc&#39;)</li><li><code>output_start</code>: flag to specify whether to output at the zeroth time step    </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WAVI-ice-sheet-model/WAVI.jl/blob/32d695cbf98d3f53ad34325461f85e17a283251c/src/OutputParams/OutputParams.jl#L14-L37">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../timestepping_params/">« Timestepping Parameters</a><a class="docs-footer-nextpage" href="../grid/">Grid »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 16 October 2025 08:16">Thursday 16 October 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
